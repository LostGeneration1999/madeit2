<!DOCTYPE html>
<html>
<head>
  <title>Madeit</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
  <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>-->
  <!--<script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.js"></script>-->

<!--
m
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

  <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
 -->
<!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>
<body>

<script>
    // var elem = document.querySelector('.sidenav');
    // var instance = M.Sidenav.init(elem, options);

    // Initialize collapsible (uncomment the lines below if you use the dropdown variation)
    // var collapsibleElem = document.querySelector('.collapsible');
    // var collapsibleInstance = M.Collapsible.init(collapsibleElem, options);

    // Or with jQuery

    $(document).ready(function(){
        $('.sidenav').sidenav();
    });
</script>

<nav>
  <div class="nav-wrapper grey darken-3">

<% if user_signed_in? %>

    <ul id="slide-out" class="sidenav">
      <li>
        <div class="background">
          <img src="<%= current_user.avatar %>">
        </div>
        <a href="#user"><img class="circle" src="<%= current_user.avatar %>"></a>
        <a href="#name"><span class="black-text name"><%= current_user.nickname %></span></a>
        <a href="#email"><span class="black-text email"><%= current_user.email %></span></a></li>

      <li><%= link_to 'マイページを編集する', "/users/#{current_user.id}/edit" %></li>
      <li><div class="divider"></div></li>
      <li>
        <%= link_to 'マイページ', "/users/#{current_user.id}/" %>
      </li>
    </ul>
    <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a>

    <% end %>

    <div href="#" class="brand-logo input_button center">
    <%= link_to 'Made IT!', "/products" %>
    </div>

<!--     <ul id="nav-mobile" class="right hide-on-med-and-down"> -->
   <ul class="gmenu">
      <li  class="input_button" style="float: right">
        <i class="material-icons">
          <%= link_to 'edit', "/products/new" %>
        </i>
      </li>

     <li  class="input_button" style="float: right">
       <i class="material-icons">
         <%= link_to 'search', "/products/search" %>
       </i>
     </li>

     <li class="input_button" style="float: right">
       <i class="material-icons">
         <%= link_to 'format_list_numbered', "/products/ranking" %>
       </i>
       <script>
           M.AutoInit();
           document.addEventListener('DOMContentLoaded', function() {
               var elems = document.querySelectorAll('.tap-target');
               var instances = M.TapTarget.init(elems, options);
           });

           // Or with jQuery

           $(document).ready(function(){
               $('.tap-target').tapTarget();
           });

           var instance = M.TapTarget.getInstance(elem);
           instance.next();
           instance.close();
       </script>
       <!--<a id="menu" class="waves-effect waves-light btn btn-floating" ><i class="material-icons">menu</i></a>-->

       <!--<div class="tap-target" data-target="menu">-->
         <!--<div class="tap-target-content">-->
           <!--<h5>Title</h5>-->
           <!--<p>A bunch of text</p>-->
         <!--</div>-->
       <!--</div>-->
     </li>
   </ul>
     <!-- Dropdown Trigger -->
     <a class='dropdown-trigger btn' href='#' data-target='dropdown1'><i class="material-icons">people
     </i></a>

     <!-- Dropdown Structure -->
     <ul id='dropdown1' class='dropdown-content'>
       <% if user_signed_in? %>
      <li class="input_button" style="float: right">
      <%= link_to 'サインアウト', destroy_user_session_path, method: :delete %>
      </li>
       <li class="input_button" style="float: right">
         <%= link_to 'マイページ', "/users/#{current_user.id}" %>
       </li>

    <% else %>
      <li class="input_button" style="float: right">
      <%= link_to 'ログイン', new_user_session_path , class: 'post' %>
      </li>
      <li class="input_button" style="float: right">
      <%= link_to '新規登録', new_user_registration_path , class: 'post' %>
      </li>
    <% end %>
    </ul>
    <!--<a class="btn-floating pulse"><i class="material-icons">menu</i></a>-->
  </div>
</nav>

<%= yield %>

  <footer class="page-footer grey darken-3">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text"></h5>
          <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
        </div>
        <div class="col l4 offset-l2 s12">
          <h5 class="white-text">Links</h5>
          <ul>
            <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
            <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      © 2018 Copyright Text
      <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
      </div>
    </div>
  </footer>

 <!--JavaScript at end of body for optimized loading-->
      <!--<script type="text/javascript" src="js/materialize.min.js"></script>-->
</body>
</html>
